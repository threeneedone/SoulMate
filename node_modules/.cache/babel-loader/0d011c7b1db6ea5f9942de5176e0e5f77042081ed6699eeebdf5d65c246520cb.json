{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\libao\\\\Desktop\\\\soulmate\\\\SoulMate\\\\src\\\\app.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Modal, PurchaseModal, ShareModal } from './components/Modals';\n\n// 导入React Hooks\n\n// =====================================================================\n// 文档页面组件\n// =====================================================================\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DocumentationPage = ({\n  onClose\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"p-6 sm:p-8 bg-white rounded-3xl shadow-2xl border-4 border-rose-300 max-w-lg w-full text-left animate-fade-in font-sans\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-between items-center mb-6 border-b-2 border-rose-400 pb-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl sm:text-4xl font-extrabold text-gray-900 font-serif\",\n      children: \"\\u529F\\u80FD\\u8BF4\\u660E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      className: \"text-gray-500 hover:text-gray-900 transition-colors duration-300\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"h-8 w-8\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        stroke: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M6 18L18 6M6 6l12 12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 text-gray-700 leading-relaxed overflow-y-auto max-h-[70vh]\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u6B22\\u8FCE\\u4F7F\\u7528\\u300C\\u5BBF\\u547D\\u53F8\\u300D\\uFF0C\\u8FD9\\u662F\\u4E00\\u6B3E\\u7ED3\\u5408\\u4E86\\u56FD\\u98CE\\u7384\\u5B66\\u4E0E\\u5148\\u8FDB AI \\u89C6\\u89C9\\u6280\\u672F\\u7684\\u8DA3\\u5473\\u5FC3\\u7406\\u63A2\\u7D22\\u5E94\\u7528\\u3002\\u6211\\u4EEC\\u4E0D\\u63D0\\u4F9B\\u751F\\u786C\\u7684\\u201C\\u7B97\\u547D\\u201D\\u7ED3\\u679C\\uFF0C\\u800C\\u662F\\u901A\\u8FC7\\u4F20\\u7EDF\\u667A\\u6167\\u4E0E\\u73B0\\u4EE3\\u79D1\\u6280\\u7684\\u878D\\u5408\\uFF0C\\u4E3A\\u60A8\\u63CF\\u7ED8\\u4E00\\u5E45\\u72EC\\u4E00\\u65E0\\u4E8C\\u7684\\u300C\\u6B63\\u7F18\\u753B\\u50CF\\u300D\\uFF0C\\u52A9\\u60A8\\u66F4\\u597D\\u5730\\u8BA4\\u8BC6\\u81EA\\u6211\\uFF0C\\u5F00\\u542F\\u4E00\\u6BB5\\u7F8E\\u597D\\u7684\\u60C5\\u611F\\u65C5\\u7A0B\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-800 font-serif\",\n      children: \"\\u4E00\\u3001\\u6838\\u5FC3\\u529F\\u80FD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold text-gray-800\",\n      children: \"1. \\u6447\\u7B7E\\u6C42\\u7F18\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u8FD9\\u662F\\u300C\\u5BBF\\u547D\\u53F8\\u300D\\u6700\\u6838\\u5FC3\\u7684\\u529F\\u80FD\\u3002\\u901A\\u8FC7\\u8F93\\u5165\\u60A8\\u7684\\u51FA\\u751F\\u4FE1\\u606F\\uFF0C\\u6211\\u4EEC\\u5F3A\\u5927\\u7684\\u540E\\u53F0\\u7B97\\u6CD5\\u5C06\\u542F\\u52A8\\u4E00\\u573A\\u8DE8\\u8D8A\\u53E4\\u4ECA\\u7684\\u63A8\\u6F14\\uFF1A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-disc list-inside space-y-2 pl-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u7384\\u5B66\\u63A8\\u6F14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u6839\\u636E\\u60A8\\u63D0\\u4F9B\\u7684\\u516C\\u5386\\u751F\\u65E5\\u3001\\u51FA\\u751F\\u65F6\\u95F4\\u548C\\u51FA\\u751F\\u5730\\uFF0C\\u7CFB\\u7EDF\\u5C06\\u63A8\\u7B97\\u51FA\\u60A8\\u7684\\u751F\\u8FB0\\u516B\\u5B57\\u3001\\u4E94\\u884C\\u547D\\u76D8\\u548C\\u592B\\u59BB\\u5BAB\\u72B6\\u6001\\u7B49\\u4F20\\u7EDF\\u7384\\u5B66\\u4FE1\\u606F\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"AI \\u89C6\\u89C9\\u751F\\u6210\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u7CFB\\u7EDF\\u4F1A\\u5C06\\u7384\\u5B66\\u63A8\\u6F14\\u51FA\\u7684\\u7ED3\\u679C\\uFF0C\\u8F6C\\u6362\\u4E3A AI \\u80FD\\u591F\\u7406\\u89E3\\u7684\\u7CBE\\u51C6\\u63D0\\u793A\\u8BCD\\uFF08Prompt\\uFF09\\uFF0C\\u5E76\\u7531\\u5F3A\\u5927\\u7684 AI \\u89C6\\u89C9\\u6A21\\u578B\\u751F\\u6210\\u4E00\\u5E45\\u5145\\u6EE1\\u56FD\\u98CE\\u97F5\\u5473\\u7684\\u300C\\u6B63\\u7F18\\u753B\\u50CF\\u300D\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u8BD7\\u610F\\u89E3\\u8BFB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u9664\\u4E86\\u753B\\u50CF\\uFF0CAI \\u8FD8\\u4F1A\\u6839\\u636E\\u60A8\\u7684\\u547D\\u76D8\\u7279\\u70B9\\uFF0C\\u751F\\u6210\\u4E00\\u6BB5\\u5145\\u6EE1\\u8BD7\\u610F\\u3001\\u72EC\\u4E00\\u65E0\\u4E8C\\u7684\\u300C\\u6B63\\u7F18\\u5224\\u8BCD\\u300D\\uFF0C\\u4EE5\\u53CA\\u4E00\\u4EFD\\u8BE6\\u7EC6\\u7684\\u6027\\u683C\\u4E0E\\u7279\\u8D28\\u89E3\\u8BFB\\u62A5\\u544A\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold text-gray-800\",\n      children: \"2. \\u514D\\u8D39\\u83B7\\u53D6\\u673A\\u4F1A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u6211\\u4EEC\\u81F4\\u529B\\u4E8E\\u8BA9\\u66F4\\u591A\\u7528\\u6237\\u4F53\\u9A8C\\u5230\\u300C\\u5BBF\\u547D\\u53F8\\u300D\\u7684\\u9B45\\u529B\\u3002\\u60A8\\u53EF\\u4EE5\\u901A\\u8FC7\\u4EE5\\u4E0B\\u4E24\\u79CD\\u65B9\\u5F0F\\u514D\\u8D39\\u83B7\\u53D6\\u6447\\u7B7E\\u673A\\u4F1A\\uFF1A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-disc list-inside space-y-2 pl-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u6BCF\\u65E5\\u7B7E\\u5230\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u6BCF\\u5929\\u767B\\u5F55\\u5E94\\u7528\\uFF0C\\u5373\\u53EF\\u83B7\\u5F97\\u4E00\\u6B21\\u514D\\u8D39\\u6447\\u7B7E\\u673A\\u4F1A\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u5206\\u4EAB\\u83B7\\u53D6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u5C06\\u60A8\\u7684\\u6B63\\u7F18\\u7ED3\\u679C\\u5206\\u4EAB\\u81F3\\u5C0F\\u7EA2\\u4E66\\u7B49\\u793E\\u4EA4\\u5E73\\u53F0\\uFF0C\\u5E76\\u4E0A\\u4F20\\u622A\\u56FE\\uFF0C\\u7ECF\\u7CFB\\u7EDF\\u9A8C\\u8BC1\\u540E\\u5373\\u53EF\\u83B7\\u5F97\\u4E00\\u6B21\\u989D\\u5916\\u7684\\u514D\\u8D39\\u6447\\u7B7E\\u673A\\u4F1A\\uFF08\\u6BCF 24 \\u5C0F\\u65F6\\u53EF\\u83B7\\u5F97\\u4E00\\u6B21\\uFF09\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold text-gray-800\",\n      children: \"3. \\u8D2D\\u4E70\\u4E0E\\u4F1A\\u5458\\u670D\\u52A1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-disc list-inside space-y-2 pl-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u7ACB\\u5373\\u8D2D\\u4E70\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u5F53\\u60A8\\u7684\\u514D\\u8D39\\u673A\\u4F1A\\u7528\\u5B8C\\u540E\\uFF0C\\u53EF\\u4EE5\\u9009\\u62E9\\u76F4\\u63A5\\u8D2D\\u4E70\\u5355\\u6B21\\u6447\\u7B7E\\u673A\\u4F1A\\uFF0C\\u4EF7\\u683C\\u4E3A \\xA528.8\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u6708\\u8001\\u4F1A\\u5458\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u5982\\u679C\\u60A8\\u5E0C\\u671B\\u957F\\u671F\\u63A2\\u7D22\\uFF0C\\u53EF\\u4EE5\\u8003\\u8651\\u6210\\u4E3A\\u300C\\u6708\\u8001\\u4F1A\\u5458\\u300D\\u3002\\u4F1A\\u5458\\u5C06\\u4EAB\\u53D7\\u6BCF\\u6708\\u591A\\u6B21\\u7684\\u514D\\u8D39\\u91CD\\u5851\\u673A\\u4F1A\\u3001\\u6DF1\\u5EA6\\u62A5\\u544A\\u89E3\\u9501\\u7B49\\u4E13\\u5C5E\\u6743\\u76CA\\uFF0C\\u5927\\u5E45\\u63D0\\u5347\\u60A8\\u7684\\u5E94\\u7528\\u4F53\\u9A8C\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-800 font-serif\",\n      children: \"\\u4E8C\\u3001\\u4F7F\\u7528\\u6B65\\u9AA4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n      className: \"list-decimal list-inside space-y-2 pl-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u8F93\\u5165\\u4FE1\\u606F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u5728\\u9996\\u9875\\u7684\\u6447\\u7B7E\\u9875\\u9762\\uFF0C\\u51C6\\u786E\\u586B\\u5199\\u60A8\\u7684\\u51FA\\u751F\\u65E5\\u671F\\u3001\\u51FA\\u751F\\u65F6\\u95F4\\u548C\\u51FA\\u751F\\u5730\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u6447\\u7B7E\\u6C42\\u7F18\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u70B9\\u51FB\\u300C\\u6447\\u7B7E\\u6C42\\u7F18\\u300D\\u6309\\u94AE\\uFF0C\\u7CFB\\u7EDF\\u5C06\\u8FDB\\u5165\\u63A8\\u6F14\\u548C\\u751F\\u6210\\u72B6\\u6001\\uFF0C\\u8BF7\\u8010\\u5FC3\\u7B49\\u5F85\\u7247\\u523B\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u67E5\\u770B\\u7ED3\\u679C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u751F\\u6210\\u5B8C\\u6210\\u540E\\uFF0C\\u60A8\\u5C06\\u770B\\u5230\\u60A8\\u7684\\u300C\\u6B63\\u7F18\\u753B\\u50CF\\u300D\\uFF0C\\u4EE5\\u53CA\\u5BF9\\u5E94\\u7684\\u5224\\u8BCD\\u548C\\u8BE6\\u7EC6\\u89E3\\u8BFB\\u62A5\\u544A\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u5206\\u4EAB\\u6216\\u91CD\\u6765\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), \"\\uFF1A\\u60A8\\u53EF\\u4EE5\\u9009\\u62E9\\u5C06\\u7ED3\\u679C\\u4FDD\\u5B58\\u3001\\u5206\\u4EAB\\u5230\\u793E\\u4EA4\\u5E73\\u53F0\\uFF0C\\u6216\\u8005\\u5728\\u673A\\u4F1A\\u5145\\u8DB3\\u7684\\u60C5\\u51B5\\u4E0B\\uFF0C\\u518D\\u6B21\\u6447\\u7B7E\\u6C42\\u53D6\\u65B0\\u7684\\u6B63\\u7F18\\u3002\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-800 font-serif\",\n      children: \"\\u4E09\\u3001\\u514D\\u8D23\\u58F0\\u660E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u300C\\u5BBF\\u547D\\u53F8\\u300D\\u662F\\u4E00\\u6B3E\\u57FA\\u4E8E\\u4F20\\u7EDF\\u6587\\u5316\\u548C\\u73B0\\u4EE3\\u79D1\\u6280\\u7684**\\u8DA3\\u5473\\u5FC3\\u7406\\u63A2\\u7D22\\u5DE5\\u5177**\\u3002\\u6240\\u6709\\u751F\\u6210\\u7ED3\\u679C\\u4EC5\\u4F9B\\u5A31\\u4E50\\u548C\\u81EA\\u6211\\u63A2\\u7D22\\uFF0C\\u4E0D\\u6784\\u6210\\u4EFB\\u4F55\\u5F62\\u5F0F\\u7684\\u79D1\\u5B66\\u6216\\u4E13\\u4E1A\\u5EFA\\u8BAE\\u3002\\u8BF7\\u7406\\u6027\\u770B\\u5F85\\uFF0C\\u4FDD\\u6301\\u79EF\\u6781\\u5FC3\\u6001\\uFF0C\\u751F\\u6D3B\\u548C\\u60C5\\u611F\\u7684\\u51B3\\u5B9A\\u6743\\u59CB\\u7EC8\\u5728\\u60A8\\u81EA\\u5DF1\\u624B\\u4E2D\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-6 pt-4 border-t-2 border-gray-200\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      className: \"w-full py-3 px-6 bg-gray-200 text-gray-800 font-semibold rounded-xl hover:bg-gray-300 transition-colors duration-300\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        role: \"img\",\n        \"aria-label\": \"back-arrow\",\n        className: \"mr-2\",\n        children: \"\\uD83D\\uDD19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), \"\\u8FD4\\u56DE\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 10,\n  columnNumber: 3\n}, this);\n\n// 主应用组件\n_c = DocumentationPage;\nconst API_BASE_URL = 'http://localhost:5000/api/v1'; // 本地开发环境 API 地址\n\nexport default function App() {\n  _s();\n  const [step, setStep] = useState('input'); // 'input', 'loading', 'result'\n  const [birthDate, setBirthDate] = useState('');\n  const [birthTime, setBirthTime] = useState('');\n  const [birthPlace, setBirthPlace] = useState('');\n  const [result, setResult] = useState(null);\n  const [modalMessage, setModalMessage] = useState(null);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [showDocumentation, setShowDocumentation] = useState(false);\n\n  // 用户数据状态\n  const [freeChances, setFreeChances] = useState(1); // 默认1次免费机会\n  const [lastSharedAt, setLastSharedAt] = useState(null);\n  const [userId, setUserId] = useState('');\n\n  // 初始化用户ID\n  useEffect(() => {\n    // 从localStorage获取用户ID，如果没有则生成新的\n    let storedUserId = localStorage.getItem('soulmate_user_id');\n    if (!storedUserId) {\n      storedUserId = 'user_' + Math.random().toString(36).substring(2, 15);\n      localStorage.setItem('soulmate_user_id', storedUserId);\n    }\n    setUserId(storedUserId);\n  }, []);\n\n  // 定期刷新用户数据，确保免费机会数正确\n  useEffect(() => {\n    if (!userId) return;\n    const interval = setInterval(() => {\n      fetchUserData();\n    }, 30000); // 每30秒刷新一次\n\n    return () => clearInterval(interval);\n  }, [userId]);\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [showPurchaseModal, setShowPurchaseModal] = useState(false);\n\n  // 后端 API 调用函数\n  // =====================================================================\n\n  // 获取用户数据\n  const fetchUserData = async () => {\n    if (!userId) return;\n    try {\n      const response = await fetch(`${API_BASE_URL}/users/${userId}`);\n      if (!response.ok) throw new Error('获取用户数据失败');\n      const data = await response.json();\n      setFreeChances(data.free_chances || 1);\n      setLastSharedAt(data.last_shared_at);\n    } catch (error) {\n      console.error('获取用户数据失败:', error);\n    }\n  };\n\n  // 在userId变化时获取用户数据\n  useEffect(() => {\n    if (userId) {\n      fetchUserData();\n    }\n  }, [userId]);\n\n  // 提交生成任务\n  const submitGenerationTask = async data => {\n    console.log(`正在向后端提交生成任务: ${API_BASE_URL}/generate/submit`);\n    const response = await fetch(`${API_BASE_URL}/generate/submit`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(`${errorData.error || '生成任务失败。'} (状态码: ${response.status})`);\n    }\n    const result = await response.json();\n    return result;\n  };\n\n  // 获取任务状态\n  const getGenerationStatus = async taskId => {\n    console.log(`正在查询任务状态: ${API_BASE_URL}/generate/status/${taskId}`);\n    const response = await fetch(`${API_BASE_URL}/generate/status/${taskId}`);\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(`${errorData.error || '查询任务状态失败。'} (状态码: ${response.status})`);\n    }\n    return await response.json();\n  };\n\n  // 获取任务结果\n  const getGenerationResult = async taskId => {\n    console.log(`正在获取任务结果: ${API_BASE_URL}/results/${taskId}`);\n    const response = await fetch(`${API_BASE_URL}/results/${taskId}`);\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(`${errorData.error || '获取任务结果失败。'} (状态码: ${response.status})`);\n    }\n    return await response.json();\n  };\n\n  // 轮询任务状态\n  const pollTaskStatus = async taskId => {\n    const checkStatus = async () => {\n      try {\n        const statusResponse = await getGenerationStatus(taskId);\n        if (statusResponse.status === 'SUCCESS') {\n          const result = await getGenerationResult(taskId);\n          setResult(result);\n          setStep('result');\n          return;\n        } else if (statusResponse.status === 'FAILED') {\n          setModalMessage('生成失败：任务处理出错。请重试。');\n          setStep('input');\n          return;\n        } else {\n          // 继续轮询\n          setTimeout(checkStatus, 2000);\n        }\n      } catch (error) {\n        console.error('轮询任务状态失败:', error);\n        setModalMessage(`轮询失败：${error.message}。请重试。`);\n        setStep('input');\n      }\n    };\n\n    // 开始轮询\n    setTimeout(checkStatus, 2000);\n  };\n\n  // 处理分享成功\n  const shareForChance = async () => {\n    console.log(`正在向后端提交分享验证: ${API_BASE_URL}/share/verify`);\n    // 这里应该有图片上传逻辑\n    // 简化示例，实际应用中需要添加FormData处理\n    const response = await fetch(`${API_BASE_URL}/share/verify`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      // 实际应用中应该有图片数据\n      body: JSON.stringify({})\n    });\n    if (!response.ok) throw new Error('分享验证失败');\n    return await response.json();\n  };\n\n  // 处理购买成功\n  const purchaseChance = async orderId => {\n    console.log(`正在向后端确认支付成功: ${API_BASE_URL}/payment/confirm`);\n    const response = await fetch(`${API_BASE_URL}/payment/confirm`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        order_id: orderId\n      })\n    });\n    if (!response.ok) throw new Error('购买确认失败');\n    return await response.json();\n  };\n  // =====================================================================\n\n  // 判断是否可以再次分享\n  const canShareAgain = !lastSharedAt || new Date() - new Date(lastSharedAt) > 24 * 60 * 60 * 1000;\n\n  // 提交生成任务并保存到后端\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!birthDate || !birthTime || !birthPlace) {\n      setModalMessage('请填写完整的出生信息。');\n      return;\n    }\n    setStep('loading');\n    setIsGenerating(true);\n    try {\n      const response = await submitGenerationTask({\n        birthDate,\n        birthTime,\n        birthPlace,\n        userId,\n        callbackUrl: `${window.location.origin}/callback` // 可选的回调URL\n      });\n      setFreeChances(response.free_chances_remaining); // 根据后端返回更新\n      setModalMessage(null);\n\n      // 启动轮询任务状态\n      pollTaskStatus(response.taskId);\n    } catch (error) {\n      console.error(\"Error submitting task:\", error);\n      // 检查是否是402错误（免费机会用完）\n      if (error.message.includes('402')) {\n        setModalMessage('免费机会已用完，请通过分享或购买获取更多机会。');\n        // 重新获取用户数据，确保免费机会数正确\n        fetchUserData();\n        // 不自动显示购买模态框，让用户自己选择\n      } else {\n        setModalMessage(`生成失败：${error.message}。请重试。`);\n      }\n      setStep('input');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  // 处理小红书分享成功的逻辑\n  const handleShareSuccess = async () => {\n    try {\n      await shareForChance(userId);\n      // 立即更新免费机会数量\n      setFreeChances(prev => prev + 1);\n      setModalMessage('感谢分享！您已获得一次新的求缘机会。');\n      setShowShareModal(false);\n      setLastSharedAt(new Date().toISOString()); // 更新分享时间\n      // 刷新用户数据，确保数据一致性\n      fetchUserData();\n    } catch (error) {\n      console.error(\"Error sharing:\", error);\n      setModalMessage(`分享失败：${error.message}`);\n    }\n  };\n\n  // 处理购买成功的逻辑\n  const handlePurchaseSuccess = async orderId => {\n    try {\n      await purchaseChance(orderId);\n      // 立即更新免费机会数量\n      setFreeChances(prev => prev + 1);\n      setModalMessage('购买成功！您已获得新的求签机会。');\n      setShowPurchaseModal(false);\n      // 刷新用户数据，确保数据一致性\n      fetchUserData();\n    } catch (error) {\n      console.error(\"Error purchasing:\", error);\n      setModalMessage(`购买失败：${error.message}`);\n    }\n  };\n  const renderContent = () => {\n    if (showDocumentation) {\n      return /*#__PURE__*/_jsxDEV(DocumentationPage, {\n        onClose: () => setShowDocumentation(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 14\n      }, this);\n    }\n\n    // 移除了loadingUser逻辑，因为不再需要登录\n\n    switch (step) {\n      case 'input':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center p-6 sm:p-8 bg-white rounded-3xl shadow-2xl border-4 border-rose-300 transform transition-all duration-500 scale-100 hover:scale-105 max-w-lg w-full font-sans\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-2 font-serif tracking-wide\",\n            children: \"\\u5BBF\\u547D\\u53F8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg sm:text-xl text-gray-600 mb-6 sm:mb-8 font-sans\",\n            children: \"\\u6267\\u638C\\u5BBF\\u547D\\u5929\\u673A\\uFF0C\\u7ED8\\u5236\\u6B63\\u7F18\\u753B\\u5377\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"w-full space-y-4 sm:space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"birthDate\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"\\u51FA\\u751F\\u65E5\\u671F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"birthDate\",\n                type: \"date\",\n                className: \"w-full p-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-rose-200 focus:border-rose-400 transition-all duration-300\",\n                value: birthDate,\n                onChange: e => setBirthDate(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"birthTime\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"\\u51FA\\u751F\\u65F6\\u95F4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"birthTime\",\n                type: \"time\",\n                className: \"w-full p-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-rose-200 focus:border-rose-400 transition-all duration-300\",\n                value: birthTime,\n                onChange: e => setBirthTime(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-500\",\n                children: \"\\u7CBE\\u786E\\u5230\\u65F6\\u8FB0\\u6709\\u52A9\\u4E8E\\u66F4\\u51C6\\u786E\\u7684\\u6F14\\u7B97\\u3002\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"birthPlace\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"\\u51FA\\u751F\\u5730\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"birthPlace\",\n                type: \"text\",\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u51FA\\u751F\\u5730 (\\u4F8B: \\u5317\\u4EAC)\",\n                className: \"w-full p-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-rose-200 focus:border-rose-400 transition-all duration-300\",\n                value: birthPlace,\n                onChange: e => setBirthPlace(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this), freeChances > 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: isGenerating,\n              className: \"w-full py-3 sm:py-4 px-6 bg-gradient-to-r from-red-500 to-rose-600 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl hover:from-rose-600 hover:to-red-700 focus:outline-none focus:ring-4 focus:ring-rose-300 focus:ring-offset-2 transition-all duration-300 disabled:from-gray-400 disabled:to-gray-500 disabled:shadow-none disabled:transform-none\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                role: \"img\",\n                \"aria-label\": \"shaking-bell\",\n                className: \"mr-2\",\n                children: \"\\uD83D\\uDD14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), \"\\u6447\\u7B7E\\u6C42\\u7F18 (\", freeChances, \"\\u6B21\\u514D\\u8D39)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center text-lg font-semibold text-gray-700\",\n                children: \"\\u514D\\u8D39\\u673A\\u4F1A\\u5DF2\\u7528\\u5B8C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowShareModal(true),\n                className: \"w-full py-3 sm:py-4 px-6 bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl hover:from-rose-600 hover:to-pink-600 focus:outline-none focus:ring-4 focus:ring-pink-300 focus:ring-offset-2 transition-all duration-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  role: \"img\",\n                  \"aria-label\": \"social-media\",\n                  className: \"mr-2\",\n                  children: \"\\uD83D\\uDCF8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this), \"\\u5206\\u4EAB\\u5C0F\\u7EA2\\u4E66\\uFF0C\\u514D\\u8D39\\u83B7\\u5F97\\u4E00\\u6B21\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowPurchaseModal(true),\n                className: \"w-full py-3 sm:py-4 px-6 bg-gradient-to-r from-amber-400 to-amber-600 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl hover:from-amber-600 hover:to-amber-700 focus:outline-none focus:ring-4 focus:ring-amber-300 focus:ring-offset-2 transition-all duration-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  role: \"img\",\n                  \"aria-label\": \"shopping-cart\",\n                  className: \"mr-2\",\n                  children: \"\\uD83D\\uDED2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this), \"\\u7ACB\\u5373\\u8D2D\\u4E70 (\\xA528.8)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this);\n      case 'loading':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center justify-center p-6 sm:p-8 bg-white rounded-3xl shadow-2xl border-4 border-rose-300 max-w-sm w-full font-sans\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-24 h-24 sm:w-28 sm:h-28\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-full h-full animate-spin-slow\",\n              viewBox: \"0 0 100 100\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"50\",\n                cy: \"50\",\n                r: \"48\",\n                fill: \"none\",\n                stroke: \"#fecaca\",\n                strokeWidth: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M50,2 A48,48 0 0,1 50,98 A24,24 0 0,1 50,50 A24,24 0 0,0 50,98 A48,48 0 0,0 50,2\",\n                fill: \"#d2691e\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M50,2 A48,48 0 0,0 50,98 M50,2 A48,48 0 0,1 50,98\",\n                fill: \"#fff\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"50\",\n                cy: \"26\",\n                r: \"12\",\n                fill: \"#fff\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"50\",\n                cy: \"74\",\n                r: \"12\",\n                fill: \"#d2691e\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-6 sm:mt-8 text-xl sm:text-2xl font-bold text-gray-800 font-serif text-center\",\n            children: \"\\u5929\\u673A\\u6B63\\u5728\\u6F14\\u7B97...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm sm:text-md text-gray-500 text-center font-sans\",\n            children: \"\\u4E00\\u6BB5\\u4F73\\u7F18\\uFF0C\\u5373\\u5C06\\u6D6E\\u73B0...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this);\n      case 'result':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center p-6 sm:p-8 bg-white rounded-3xl shadow-2xl border-4 border-rose-300 max-w-lg w-full text-center animate-fade-in font-sans\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl sm:text-4xl font-bold text-gray-900 mb-4 font-serif\",\n            children: \"\\u4F60\\u7684\\u6B63\\u7F18\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: (result === null || result === void 0 ? void 0 : result.hdImage) || '/default_image.svg',\n            alt: \"\\u6B63\\u7F18\\u753B\\u50CF\",\n            className: `w-full max-w-[20rem] aspect-[2/3] object-cover rounded-2xl shadow-xl transition-all duration-500`,\n            onError: e => {\n              e.target.src = '/default_image.svg';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), result.poeticText && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-6 sm:mt-8 text-lg sm:text-xl text-gray-700 italic font-serif leading-relaxed px-4 border-l-4 border-rose-400\",\n            children: result.poeticText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 sm:mt-10 w-full space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl sm:text-2xl font-bold text-gray-800 font-serif border-b-2 border-rose-400 pb-2\",\n              children: \"\\u8BE6\\u7EC6\\u89E3\\u8BFB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-left text-base sm:text-lg text-gray-700 leading-relaxed whitespace-pre-wrap\",\n              children: result.detailedAnalysis\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 sm:mt-8 w-full flex\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // 清除结果并返回输入页面\n                setStep('input');\n                setResult(null);\n                // 刷新用户数据，确保免费机会数量正确\n                fetchUserData();\n              },\n              className: \"flex-1 py-3 sm:py-4 px-6 bg-gray-200 text-gray-800 font-semibold rounded-xl hover:bg-gray-300 transition-colors duration-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                role: \"img\",\n                \"aria-label\": \"repeat\",\n                className: \"mr-2\",\n                children: \"\\uD83D\\uDD04\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this), \"\\u91CD\\u65B0\\u6C42\\u7B7E\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-rose-50 to-orange-100 flex items-center justify-center p-4 sm:p-6 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap');\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');\n        .font-serif {\n          font-family: 'Noto Serif SC', serif;\n        }\n        .font-sans {\n          font-family: 'Inter', sans-serif;\n        }\n        .animate-fade-in {\n          animation: fadeIn 0.5s ease-out forwards;\n        }\n        .animate-pop-in {\n          animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;\n        }\n        .animate-scale-in {\n          animation: scaleIn 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;\n        }\n        .animate-spin-slow {\n          animation: spin 3s linear infinite;\n        }\n        .animate-shake {\n          animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;\n          transform: translate3d(0, 0, 0);\n          backface-visibility: hidden;\n          perspective: 1000px;\n        }\n        .animate-fade-in-up {\n            animation: fadeInUp 0.6s ease-out forwards;\n        }\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes popIn {\n          from { transform: scale(0.95); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n        @keyframes scaleIn {\n          from { transform: scale(0); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        @keyframes shake {\n          10%, 90% { transform: translate3d(-1px, 0, 0); }\n          20%, 80% { transform: translate3d(2px, 0, 0); }\n          30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }\n          40%, 60% { transform: translate3d(4px, 0, 0); }\n        }\n        @keyframes fadeInUp {\n            from {\n                opacity: 0;\n                transform: translateY(20px);\n            }\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 right-4 z-40\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowDocumentation(!showDocumentation),\n          className: \"flex items-center space-x-2 py-2 px-4 bg-white bg-opacity-80 backdrop-filter backdrop-blur-lg text-gray-700 font-semibold rounded-full shadow-lg hover:bg-opacity-100 hover:text-rose-500 transition-all duration-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 6.253v13m0-13C10.832 5.467 9.5 5 8 5c-4 0-4 6-4 6s4 6 4 6c1.5 0 2.832-.467 4-1.253m0 0C13.168 18.533 14.5 19 16 19c4 0 4-6 4-6s-4-6-4-6c-1.5 0-2.832.467-4 1.253\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden sm:inline\",\n            children: \"\\u529F\\u80FD\\u8BF4\\u660E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), renderContent()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 7\n    }, this), modalMessage && /*#__PURE__*/_jsxDEV(Modal, {\n      message: modalMessage,\n      onClose: () => setModalMessage(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 24\n    }, this), showShareModal && /*#__PURE__*/_jsxDEV(ShareModal, {\n      onShareSuccess: handleShareSuccess,\n      onClose: () => setShowShareModal(false),\n      canShareAgain: canShareAgain\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 26\n    }, this), showPurchaseModal && /*#__PURE__*/_jsxDEV(PurchaseModal, {\n      onPurchaseSuccess: handlePurchaseSuccess,\n      onClose: () => setShowPurchaseModal(false),\n      API_BASE_URL: API_BASE_URL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 464,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"x/Acl80fSl/9GGnW9fbq3LFBwC8=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"DocumentationPage\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["useState","useEffect","Modal","PurchaseModal","ShareModal","jsxDEV","_jsxDEV","DocumentationPage","onClose","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","role","_c","API_BASE_URL","App","_s","step","setStep","birthDate","setBirthDate","birthTime","setBirthTime","birthPlace","setBirthPlace","result","setResult","modalMessage","setModalMessage","isGenerating","setIsGenerating","showDocumentation","setShowDocumentation","freeChances","setFreeChances","lastSharedAt","setLastSharedAt","userId","setUserId","storedUserId","localStorage","getItem","Math","random","toString","substring","setItem","interval","setInterval","fetchUserData","clearInterval","showShareModal","setShowShareModal","showPurchaseModal","setShowPurchaseModal","response","fetch","ok","Error","data","json","free_chances","last_shared_at","error","console","submitGenerationTask","log","method","headers","body","JSON","stringify","errorData","catch","status","getGenerationStatus","taskId","getGenerationResult","pollTaskStatus","checkStatus","statusResponse","setTimeout","message","shareForChance","purchaseChance","orderId","order_id","canShareAgain","Date","handleSubmit","e","preventDefault","callbackUrl","window","location","origin","free_chances_remaining","includes","handleShareSuccess","prev","toISOString","handlePurchaseSuccess","renderContent","onSubmit","htmlFor","id","type","value","onChange","target","required","placeholder","disabled","cx","cy","r","src","hdImage","alt","onError","poeticText","detailedAnalysis","onShareSuccess","onPurchaseSuccess","_c2","$RefreshReg$"],"sources":["C:/Users/libao/Desktop/soulmate/SoulMate/src/app.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Modal, PurchaseModal, ShareModal } from './components/Modals';\r\n\r\n// 导入React Hooks\r\n\r\n// =====================================================================\r\n// 文档页面组件\r\n// =====================================================================\r\nconst DocumentationPage = ({ onClose }) => (\r\n  <div className=\"p-6 sm:p-8 bg-white rounded-3xl shadow-2xl border-4 border-rose-300 max-w-lg w-full text-left animate-fade-in font-sans\">\r\n    <div className=\"flex justify-between items-center mb-6 border-b-2 border-rose-400 pb-2\">\r\n      <h1 className=\"text-3xl sm:text-4xl font-extrabold text-gray-900 font-serif\">功能说明</h1>\r\n      <button onClick={onClose} className=\"text-gray-500 hover:text-gray-900 transition-colors duration-300\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    <div className=\"space-y-6 text-gray-700 leading-relaxed overflow-y-auto max-h-[70vh]\">\r\n      <p>欢迎使用「宿命司」，这是一款结合了国风玄学与先进 AI 视觉技术的趣味心理探索应用。我们不提供生硬的“算命”结果，而是通过传统智慧与现代科技的融合，为您描绘一幅独一无二的「正缘画像」，助您更好地认识自我，开启一段美好的情感旅程。</p>\r\n\r\n      <h2 className=\"text-2xl font-bold text-gray-800 font-serif\">一、核心功能</h2>\r\n      <h3 className=\"text-xl font-semibold text-gray-800\">1. 摇签求缘</h3>\r\n      <p>这是「宿命司」最核心的功能。通过输入您的出生信息，我们强大的后台算法将启动一场跨越古今的推演：</p>\r\n      <ul className=\"list-disc list-inside space-y-2 pl-4\">\r\n        <li><strong>玄学推演</strong>：根据您提供的公历生日、出生时间和出生地，系统将推算出您的生辰八字、五行命盘和夫妻宫状态等传统玄学信息。</li>\r\n        <li><strong>AI 视觉生成</strong>：系统会将玄学推演出的结果，转换为 AI 能够理解的精准提示词（Prompt），并由强大的 AI 视觉模型生成一幅充满国风韵味的「正缘画像」。</li>\r\n        <li><strong>诗意解读</strong>：除了画像，AI 还会根据您的命盘特点，生成一段充满诗意、独一无二的「正缘判词」，以及一份详细的性格与特质解读报告。</li>\r\n      </ul>\r\n\r\n      <h3 className=\"text-xl font-semibold text-gray-800\">2. 免费获取机会</h3>\r\n      <p>我们致力于让更多用户体验到「宿命司」的魅力。您可以通过以下两种方式免费获取摇签机会：</p>\r\n      <ul className=\"list-disc list-inside space-y-2 pl-4\">\r\n        <li><strong>每日签到</strong>：每天登录应用，即可获得一次免费摇签机会。</li>\r\n        <li><strong>分享获取</strong>：将您的正缘结果分享至小红书等社交平台，并上传截图，经系统验证后即可获得一次额外的免费摇签机会（每 24 小时可获得一次）。</li>\r\n      </ul>\r\n\r\n      <h3 className=\"text-xl font-semibold text-gray-800\">3. 购买与会员服务</h3>\r\n      <ul className=\"list-disc list-inside space-y-2 pl-4\">\r\n        <li><strong>立即购买</strong>：当您的免费机会用完后，可以选择直接购买单次摇签机会，价格为 ¥28.8。</li>\r\n        <li><strong>月老会员</strong>：如果您希望长期探索，可以考虑成为「月老会员」。会员将享受每月多次的免费重塑机会、深度报告解锁等专属权益，大幅提升您的应用体验。</li>\r\n      </ul>\r\n\r\n      <h2 className=\"text-2xl font-bold text-gray-800 font-serif\">二、使用步骤</h2>\r\n      <ol className=\"list-decimal list-inside space-y-2 pl-4\">\r\n        <li><strong>输入信息</strong>：在首页的摇签页面，准确填写您的出生日期、出生时间和出生地。</li>\r\n        <li><strong>摇签求缘</strong>：点击「摇签求缘」按钮，系统将进入推演和生成状态，请耐心等待片刻。</li>\r\n        <li><strong>查看结果</strong>：生成完成后，您将看到您的「正缘画像」，以及对应的判词和详细解读报告。</li>\r\n        <li><strong>分享或重来</strong>：您可以选择将结果保存、分享到社交平台，或者在机会充足的情况下，再次摇签求取新的正缘。</li>\r\n      </ol>\r\n\r\n      <h2 className=\"text-2xl font-bold text-gray-800 font-serif\">三、免责声明</h2>\r\n      <p>「宿命司」是一款基于传统文化和现代科技的**趣味心理探索工具**。所有生成结果仅供娱乐和自我探索，不构成任何形式的科学或专业建议。请理性看待，保持积极心态，生活和情感的决定权始终在您自己手中。</p>\r\n    </div>\r\n    <div className=\"mt-6 pt-4 border-t-2 border-gray-200\">\r\n      <button\r\n        onClick={onClose}\r\n        className=\"w-full py-3 px-6 bg-gray-200 text-gray-800 font-semibold rounded-xl hover:bg-gray-300 transition-colors duration-300\"\r\n      >\r\n        <span role=\"img\" aria-label=\"back-arrow\" className=\"mr-2\">🔙</span>\r\n        返回\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// 主应用组件\r\nconst API_BASE_URL = 'http://localhost:5000/api/v1'; // 本地开发环境 API 地址\r\n\r\nexport default function App() {\r\n  const [step, setStep] = useState('input'); // 'input', 'loading', 'result'\r\n  const [birthDate, setBirthDate] = useState('');\r\n  const [birthTime, setBirthTime] = useState('');\r\n  const [birthPlace, setBirthPlace] = useState('');\r\n  const [result, setResult] = useState(null);\r\n  const [modalMessage, setModalMessage] = useState(null);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [showDocumentation, setShowDocumentation] = useState(false);\r\n\r\n  // 用户数据状态\r\n  const [freeChances, setFreeChances] = useState(1); // 默认1次免费机会\r\n  const [lastSharedAt, setLastSharedAt] = useState(null);\r\n  const [userId, setUserId] = useState('');\r\n\r\n  // 初始化用户ID\r\n  useEffect(() => {\r\n    // 从localStorage获取用户ID，如果没有则生成新的\r\n    let storedUserId = localStorage.getItem('soulmate_user_id');\r\n    if (!storedUserId) {\r\n      storedUserId = 'user_' + Math.random().toString(36).substring(2, 15);\r\n      localStorage.setItem('soulmate_user_id', storedUserId);\r\n    }\r\n    setUserId(storedUserId);\r\n  }, []);\r\n\r\n  // 定期刷新用户数据，确保免费机会数正确\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n\r\n    const interval = setInterval(() => {\r\n      fetchUserData();\r\n    }, 30000); // 每30秒刷新一次\r\n\r\n    return () => clearInterval(interval);\r\n  }, [userId]);\r\n  const [showShareModal, setShowShareModal] = useState(false);\r\n  const [showPurchaseModal, setShowPurchaseModal] = useState(false);\r\n\r\n  // 后端 API 调用函数\r\n  // =====================================================================\r\n  \r\n  // 获取用户数据\r\n  const fetchUserData = async () => {\r\n    if (!userId) return;\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/users/${userId}`);\r\n      if (!response.ok) throw new Error('获取用户数据失败');\r\n      const data = await response.json();\r\n      setFreeChances(data.free_chances || 1);\r\n      setLastSharedAt(data.last_shared_at);\r\n    } catch (error) {\r\n      console.error('获取用户数据失败:', error);\r\n    }\r\n  };\r\n\r\n  // 在userId变化时获取用户数据\r\n  useEffect(() => {\r\n    if (userId) {\r\n      fetchUserData();\r\n    }\r\n  }, [userId]);\r\n\r\n  // 提交生成任务\r\n  const submitGenerationTask = async (data) => {\r\n    console.log(`正在向后端提交生成任务: ${API_BASE_URL}/generate/submit`);\r\n    const response = await fetch(`${API_BASE_URL}/generate/submit`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(`${errorData.error || '生成任务失败。'} (状态码: ${response.status})`);\r\n    }\r\n    const result = await response.json();\r\n    return result;\r\n  };\r\n\r\n  // 获取任务状态\r\n  const getGenerationStatus = async (taskId) => {\r\n    console.log(`正在查询任务状态: ${API_BASE_URL}/generate/status/${taskId}`);\r\n    const response = await fetch(`${API_BASE_URL}/generate/status/${taskId}`);\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(`${errorData.error || '查询任务状态失败。'} (状态码: ${response.status})`);\r\n    }\r\n    return await response.json();\r\n  };\r\n\r\n  // 获取任务结果\r\n  const getGenerationResult = async (taskId) => {\r\n    console.log(`正在获取任务结果: ${API_BASE_URL}/results/${taskId}`);\r\n    const response = await fetch(`${API_BASE_URL}/results/${taskId}`);\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(`${errorData.error || '获取任务结果失败。'} (状态码: ${response.status})`);\r\n    }\r\n    return await response.json();\r\n  };\r\n\r\n  // 轮询任务状态\r\n  const pollTaskStatus = async (taskId) => {\r\n    const checkStatus = async () => {\r\n      try {\r\n        const statusResponse = await getGenerationStatus(taskId);\r\n        if (statusResponse.status === 'SUCCESS') {\r\n          const result = await getGenerationResult(taskId);\r\n          setResult(result);\r\n          setStep('result');\r\n          return;\r\n        } else if (statusResponse.status === 'FAILED') {\r\n          setModalMessage('生成失败：任务处理出错。请重试。');\r\n          setStep('input');\r\n          return;\r\n        } else {\r\n          // 继续轮询\r\n          setTimeout(checkStatus, 2000);\r\n        }\r\n      } catch (error) {\r\n        console.error('轮询任务状态失败:', error);\r\n        setModalMessage(`轮询失败：${error.message}。请重试。`);\r\n        setStep('input');\r\n      }\r\n    };\r\n\r\n    // 开始轮询\r\n    setTimeout(checkStatus, 2000);\r\n  };\r\n\r\n  // 处理分享成功\r\n  const shareForChance = async () => {\r\n    console.log(`正在向后端提交分享验证: ${API_BASE_URL}/share/verify`);\r\n    // 这里应该有图片上传逻辑\r\n    // 简化示例，实际应用中需要添加FormData处理\r\n    const response = await fetch(`${API_BASE_URL}/share/verify`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      // 实际应用中应该有图片数据\r\n      body: JSON.stringify({}),\r\n    });\r\n    if (!response.ok) throw new Error('分享验证失败');\r\n    return await response.json();\r\n  };\r\n\r\n  // 处理购买成功\r\n  const purchaseChance = async (orderId) => {\r\n    console.log(`正在向后端确认支付成功: ${API_BASE_URL}/payment/confirm`);\r\n    const response = await fetch(`${API_BASE_URL}/payment/confirm`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ order_id: orderId }),\r\n    });\r\n    if (!response.ok) throw new Error('购买确认失败');\r\n    return await response.json();\r\n  };\r\n  // =====================================================================\r\n\r\n  // 判断是否可以再次分享\r\n  const canShareAgain = !lastSharedAt || (new Date() - new Date(lastSharedAt)) > 24 * 60 * 60 * 1000;\r\n\r\n  // 提交生成任务并保存到后端\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!birthDate || !birthTime || !birthPlace) {\r\n      setModalMessage('请填写完整的出生信息。');\r\n      return;\r\n    }\r\n    \r\n    setStep('loading');\r\n    setIsGenerating(true);\r\n\r\n    try {\r\n      const response = await submitGenerationTask({ \r\n        birthDate, \r\n        birthTime, \r\n        birthPlace, \r\n        userId, \r\n        callbackUrl: `${window.location.origin}/callback` // 可选的回调URL\r\n      });\r\n\r\n      setFreeChances(response.free_chances_remaining); // 根据后端返回更新\r\n      setModalMessage(null);\r\n\r\n      // 启动轮询任务状态\r\n      pollTaskStatus(response.taskId);\r\n    } catch (error) {\r\n      console.error(\"Error submitting task:\", error);\r\n      // 检查是否是402错误（免费机会用完）\r\n      if (error.message.includes('402')) {\r\n        setModalMessage('免费机会已用完，请通过分享或购买获取更多机会。');\r\n        // 重新获取用户数据，确保免费机会数正确\r\n        fetchUserData();\r\n        // 不自动显示购买模态框，让用户自己选择\r\n      } else {\r\n        setModalMessage(`生成失败：${error.message}。请重试。`);\r\n      }\r\n      setStep('input');\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n};\r\n\r\n  // 处理小红书分享成功的逻辑\r\n  const handleShareSuccess = async () => {\r\n    try {\r\n      await shareForChance(userId);\r\n      // 立即更新免费机会数量\r\n      setFreeChances(prev => prev + 1);\r\n      setModalMessage('感谢分享！您已获得一次新的求缘机会。');\r\n      setShowShareModal(false);\r\n      setLastSharedAt(new Date().toISOString()); // 更新分享时间\r\n      // 刷新用户数据，确保数据一致性\r\n      fetchUserData();\r\n    } catch (error) {\r\n      console.error(\"Error sharing:\", error);\r\n      setModalMessage(`分享失败：${error.message}`);\r\n    }\r\n  };\r\n\r\n  // 处理购买成功的逻辑\r\n  const handlePurchaseSuccess = async (orderId) => {\r\n    try {\r\n      await purchaseChance(orderId);\r\n      // 立即更新免费机会数量\r\n      setFreeChances(prev => prev + 1);\r\n      setModalMessage('购买成功！您已获得新的求签机会。');\r\n      setShowPurchaseModal(false);\r\n      // 刷新用户数据，确保数据一致性\r\n      fetchUserData();\r\n    } catch (error) {\r\n      console.error(\"Error purchasing:\", error);\r\n      setModalMessage(`购买失败：${error.message}`);\r\n    }\r\n  };\r\n  \r\n  const renderContent = () => {\r\n    if (showDocumentation) {\r\n      return <DocumentationPage onClose={() => setShowDocumentation(false)} />;\r\n    }\r\n\r\n    // 移除了loadingUser逻辑，因为不再需要登录\r\n\r\n    switch (step) {\r\n      case 'input':\r\n        return (\r\n          <div className=\"flex flex-col items-center p-6 sm:p-8 bg-white rounded-3xl shadow-2xl border-4 border-rose-300 transform transition-all duration-500 scale-100 hover:scale-105 max-w-lg w-full font-sans\">\r\n            <h1 className=\"text-4xl sm:text-5xl font-extrabold text-gray-900 mb-2 font-serif tracking-wide\">宿命司</h1>\r\n            <p className=\"text-lg sm:text-xl text-gray-600 mb-6 sm:mb-8 font-sans\">执掌宿命天机，绘制正缘画卷</p>\r\n            <form onSubmit={handleSubmit} className=\"w-full space-y-4 sm:space-y-6\">\r\n              <div>\r\n                <label htmlFor=\"birthDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">出生日期</label>\r\n                <input\r\n                  id=\"birthDate\"\r\n                  type=\"date\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-rose-200 focus:border-rose-400 transition-all duration-300\"\r\n                  value={birthDate}\r\n                  onChange={(e) => setBirthDate(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"birthTime\" className=\"block text-sm font-medium text-gray-700 mb-1\">出生时间</label>\r\n                <input\r\n                  id=\"birthTime\"\r\n                  type=\"time\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-rose-200 focus:border-rose-400 transition-all duration-300\"\r\n                  value={birthTime}\r\n                  onChange={(e) => setBirthTime(e.target.value)}\r\n                  required\r\n                />\r\n                <p className=\"mt-1 text-xs text-gray-500\">精确到时辰有助于更准确的演算。</p>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"birthPlace\" className=\"block text-sm font-medium text-gray-700 mb-1\">出生地</label>\r\n                <input\r\n                  id=\"birthPlace\"\r\n                  type=\"text\"\r\n                  placeholder=\"请输入您的出生地 (例: 北京)\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-rose-200 focus:border-rose-400 transition-all duration-300\"\r\n                  value={birthPlace}\r\n                  onChange={(e) => setBirthPlace(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              {freeChances > 0 ? (\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isGenerating}\r\n                  className=\"w-full py-3 sm:py-4 px-6 bg-gradient-to-r from-red-500 to-rose-600 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl hover:from-rose-600 hover:to-red-700 focus:outline-none focus:ring-4 focus:ring-rose-300 focus:ring-offset-2 transition-all duration-300 disabled:from-gray-400 disabled:to-gray-500 disabled:shadow-none disabled:transform-none\"\r\n                >\r\n                  <span role=\"img\" aria-label=\"shaking-bell\" className=\"mr-2\">🔔</span>\r\n                  摇签求缘 ({freeChances}次免费)\r\n                </button>\r\n              ) : (\r\n                <div className=\"w-full space-y-4\">\r\n                  <p className=\"text-center text-lg font-semibold text-gray-700\">免费机会已用完</p>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowShareModal(true)}\r\n                    className=\"w-full py-3 sm:py-4 px-6 bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl hover:from-rose-600 hover:to-pink-600 focus:outline-none focus:ring-4 focus:ring-pink-300 focus:ring-offset-2 transition-all duration-300\"\r\n                  >\r\n                    <span role=\"img\" aria-label=\"social-media\" className=\"mr-2\">📸</span>\r\n                    分享小红书，免费获得一次\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPurchaseModal(true)}\r\n                    className=\"w-full py-3 sm:py-4 px-6 bg-gradient-to-r from-amber-400 to-amber-600 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl hover:from-amber-600 hover:to-amber-700 focus:outline-none focus:ring-4 focus:ring-amber-300 focus:ring-offset-2 transition-all duration-300\"\r\n                  >\r\n                    <span role=\"img\" aria-label=\"shopping-cart\" className=\"mr-2\">🛒</span>\r\n                    立即购买 (¥28.8)\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </form>\r\n          </div>\r\n        );\r\n\r\n      case 'loading':\r\n        return (\r\n          <div className=\"flex flex-col items-center justify-center p-6 sm:p-8 bg-white rounded-3xl shadow-2xl border-4 border-rose-300 max-w-sm w-full font-sans\">\r\n            <div className=\"relative w-24 h-24 sm:w-28 sm:h-28\">\r\n              <svg className=\"w-full h-full animate-spin-slow\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <circle cx=\"50\" cy=\"50\" r=\"48\" fill=\"none\" stroke=\"#fecaca\" strokeWidth=\"4\"/>\r\n                <path d=\"M50,2 A48,48 0 0,1 50,98 A24,24 0 0,1 50,50 A24,24 0 0,0 50,98 A48,48 0 0,0 50,2\" fill=\"#d2691e\"/>\r\n                <path d=\"M50,2 A48,48 0 0,0 50,98 M50,2 A48,48 0 0,1 50,98\" fill=\"#fff\"/>\r\n                <circle cx=\"50\" cy=\"26\" r=\"12\" fill=\"#fff\"/>\r\n                <circle cx=\"50\" cy=\"74\" r=\"12\" fill=\"#d2691e\"/>\r\n              </svg>\r\n            </div>\r\n            <p className=\"mt-6 sm:mt-8 text-xl sm:text-2xl font-bold text-gray-800 font-serif text-center\">天机正在演算...</p>\r\n            <p className=\"mt-2 text-sm sm:text-md text-gray-500 text-center font-sans\">一段佳缘，即将浮现...</p>\r\n          </div>\r\n        );\r\n\r\n      case 'result':\r\n        return (\r\n          <div className=\"flex flex-col items-center p-6 sm:p-8 bg-white rounded-3xl shadow-2xl border-4 border-rose-300 max-w-lg w-full text-center animate-fade-in font-sans\">\r\n            <h2 className=\"text-3xl sm:text-4xl font-bold text-gray-900 mb-4 font-serif\">你的正缘</h2>\r\n            \r\n            <img\r\n              src={result?.hdImage || '/default_image.svg'}\r\n              alt=\"正缘画像\"\r\n              className={`w-full max-w-[20rem] aspect-[2/3] object-cover rounded-2xl shadow-xl transition-all duration-500`}\r\n              onError={(e) => {\r\n                e.target.src = '/default_image.svg';\r\n              }}\r\n            />\r\n            \r\n            {result.poeticText && (\r\n              <p className=\"mt-6 sm:mt-8 text-lg sm:text-xl text-gray-700 italic font-serif leading-relaxed px-4 border-l-4 border-rose-400\">\r\n                {result.poeticText}\r\n              </p>\r\n            )}\r\n\r\n            <div className=\"mt-6 sm:mt-10 w-full space-y-6\">\r\n              <h3 className=\"text-xl sm:text-2xl font-bold text-gray-800 font-serif border-b-2 border-rose-400 pb-2\">详细解读</h3>\r\n              <p className=\"text-left text-base sm:text-lg text-gray-700 leading-relaxed whitespace-pre-wrap\">\r\n                {result.detailedAnalysis}\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"mt-6 sm:mt-8 w-full flex\">\r\n              <button\r\n                onClick={() => {\r\n                  // 清除结果并返回输入页面\r\n                  setStep('input');\r\n                  setResult(null);\r\n                  // 刷新用户数据，确保免费机会数量正确\r\n                  fetchUserData();\r\n                }}\r\n                className=\"flex-1 py-3 sm:py-4 px-6 bg-gray-200 text-gray-800 font-semibold rounded-xl hover:bg-gray-300 transition-colors duration-300\"\r\n              >\r\n                <span role=\"img\" aria-label=\"repeat\" className=\"mr-2\">🔄</span>\r\n                重新求签\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-rose-50 to-orange-100 flex items-center justify-center p-4 sm:p-6 font-sans\">\r\n      <style>\r\n        {`\r\n        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap');\r\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');\r\n        .font-serif {\r\n          font-family: 'Noto Serif SC', serif;\r\n        }\r\n        .font-sans {\r\n          font-family: 'Inter', sans-serif;\r\n        }\r\n        .animate-fade-in {\r\n          animation: fadeIn 0.5s ease-out forwards;\r\n        }\r\n        .animate-pop-in {\r\n          animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;\r\n        }\r\n        .animate-scale-in {\r\n          animation: scaleIn 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;\r\n        }\r\n        .animate-spin-slow {\r\n          animation: spin 3s linear infinite;\r\n        }\r\n        .animate-shake {\r\n          animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;\r\n          transform: translate3d(0, 0, 0);\r\n          backface-visibility: hidden;\r\n          perspective: 1000px;\r\n        }\r\n        .animate-fade-in-up {\r\n            animation: fadeInUp 0.6s ease-out forwards;\r\n        }\r\n        @keyframes fadeIn {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n        @keyframes popIn {\r\n          from { transform: scale(0.95); opacity: 0; }\r\n          to { transform: scale(1); opacity: 1; }\r\n        }\r\n        @keyframes scaleIn {\r\n          from { transform: scale(0); opacity: 0; }\r\n          to { transform: scale(1); opacity: 1; }\r\n        }\r\n        @keyframes spin {\r\n          from { transform: rotate(0deg); }\r\n          to { transform: rotate(360deg); }\r\n        }\r\n        @keyframes shake {\r\n          10%, 90% { transform: translate3d(-1px, 0, 0); }\r\n          20%, 80% { transform: translate3d(2px, 0, 0); }\r\n          30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }\r\n          40%, 60% { transform: translate3d(4px, 0, 0); }\r\n        }\r\n        @keyframes fadeInUp {\r\n            from {\r\n                opacity: 0;\r\n                transform: translateY(20px);\r\n            }\r\n            to {\r\n                opacity: 1;\r\n                transform: translateY(0);\r\n            }\r\n        }\r\n        `}\r\n      </style>\r\n      <div className=\"w-full max-w-2xl relative\">\r\n        <div className=\"absolute top-4 right-4 z-40\">\r\n          <button\r\n            onClick={() => setShowDocumentation(!showDocumentation)}\r\n            className=\"flex items-center space-x-2 py-2 px-4 bg-white bg-opacity-80 backdrop-filter backdrop-blur-lg text-gray-700 font-semibold rounded-full shadow-lg hover:bg-opacity-100 hover:text-rose-500 transition-all duration-300\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.467 9.5 5 8 5c-4 0-4 6-4 6s4 6 4 6c1.5 0 2.832-.467 4-1.253m0 0C13.168 18.533 14.5 19 16 19c4 0 4-6 4-6s-4-6-4-6c-1.5 0-2.832.467-4 1.253\" />\r\n            </svg>\r\n            <span className=\"hidden sm:inline\">功能说明</span>\r\n          </button>\r\n        </div>\r\n        {renderContent()}\r\n      </div>\r\n      {/* 用户信息已通过状态管理 */}\r\n      {modalMessage && <Modal message={modalMessage} onClose={() => setModalMessage(null)} />}\r\n      {showShareModal && <ShareModal onShareSuccess={handleShareSuccess} onClose={() => setShowShareModal(false)} canShareAgain={canShareAgain} />}\r\n      {showPurchaseModal && <PurchaseModal onPurchaseSuccess={handlePurchaseSuccess} onClose={() => setShowPurchaseModal(false)} API_BASE_URL={API_BASE_URL} />}\r\n\r\n\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}